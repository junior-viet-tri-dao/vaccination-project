<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      th:replace="~{employee/layout-employee :: areas(~{::title}, ~{::main})}">
<head>
    <title>Xem hồ sơ bệnh án</title>
</head>

<body>
<main th:with="tab='view'">


    <!-- Nhập ID bệnh nhân -->
    <form th:action="@{/employee/view}" method="post" class="mb-6 flex items-center space-x-4">
        <label for="maBenhNhan" class="font-semibold text-gray-700">Nhập ID bệnh nhân</label>
        <input type="text" id="maBenhNhan" name="maBenhNhan"
               placeholder="201485371"
               class="px-4 py-2 border rounded-lg w-64"
               th:value="${hoSo != null} ? ${hoSo.maBenhNhan} : ''"/>
        <button type="submit"
                class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-semibold transition">
            Tìm kiếm
        </button>
    </form>

    <!-- Thông tin hồ sơ -->
    <div th:if="${hoSo != null}" class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Cột trái -->
        <div class="space-y-4">
            <div>
                <label class="block font-semibold text-gray-700">Họ và tên</label>
                <input type="text" th:value="${hoSo.hoTen}" class="w-full px-4 py-2 border rounded-lg" readonly/>
            </div>

            <div>
                <label class="block font-semibold text-gray-700">Giới tính</label>
                <div class="flex space-x-4 mt-1">
                    <label><input type="radio" name="gioiTinh" th:checked="${hoSo.gioiTinh == 'NAM'}"readonly/> Nam</label>
                    <label><input type="radio" name="gioiTinh" th:checked="${hoSo.gioiTinh == 'NU'}"readonly/> Nữ</label>
                </div>
            </div>

            <div>
                <label class="block font-semibold text-gray-700">Tuổi</label>
                <input type="number" th:value="${hoSo.tuoi}" class="w-full px-4 py-2 border rounded-lg"readonly/>
            </div>

            <div>
                <label class="block font-semibold text-gray-700">Người giám hộ</label>
                <input type="text" th:value="${hoSo.nguoiGiamHo}" class="w-full px-4 py-2 border rounded-lg"readonly/>
            </div>

            <div>
                <label class="block font-semibold text-gray-700">Địa chỉ</label>
                <input type="text" th:value="${hoSo.diaChi}" class="w-full px-4 py-2 border rounded-lg"readonly/>
            </div>

            <div>
                <label class="block font-semibold text-gray-700">Điện thoại</label>
                <input type="text" th:value="${hoSo.soDienThoai}" class="w-full px-4 py-2 border rounded-lg"readonly/>
            </div>
        </div>

       <!-- Cột phải: Vắc-xin -->
<div class="space-y-4">
    <div th:each="vx, iterStat : ${hoSo.vacXinDaTiem}">
        <label class="block font-semibold text-gray-700">Vắc-xin đã tiêm</label>
        <select class="w-full px-4 py-2 border rounded-lg">
            <option th:text="${vx.tenVacXin}" selected></option>
            <!-- Nếu muốn, bạn có thể thêm các option khác từ danh sách vắc-xin chung -->
        </select>

        <label class="block font-semibold text-gray-700">Thời gian</label>
        <input type="date" th:value="${vx.thoiGianTiem}" class="w-full px-4 py-2 border rounded-lg"readonly/>

        <label class="block font-semibold text-gray-700">Phản ứng sau khi tiêm</label>
        <input type="text" th:value="${vx.phanUngSauTiem}" class="w-full px-4 py-2 border rounded-lg"readonly/>
    </div>

    <div th:each="vx, iterStat : ${hoSo.vacXinCanTiem}">
        <label class="block font-semibold text-gray-700">Vắc-xin cần tiêm</label>
        <input type="text" th:value="${vx.tenVacXin}" class="w-full px-4 py-2 border rounded-lg"readonly/>
        <label class="block font-semibold text-gray-700">Thời gian</label>
        <input type="date" th:value="${vx.thoiGianDuKien}" class="w-full px-4 py-2 border rounded-lg"readonly/>
    </div>
</div>

    </div>
</main>
</body>
</html>
